{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benzs\\\\Documents\\\\GitHub\\\\ideacookcook\\\\ideacookcook\\\\src\\\\page\\\\result.js\";\nimport React, { Component } from \"react\";\nimport \"../page/styles/result.css\";\nimport Results from \"../component/results\";\nimport Loading from \"../component/Loading\";\nimport axios from \"axios\";\nconst w = \"/result/1นรก\";\nconst p = \"/result/2Low-30-คอหมู,หมูย่าง-กระทะ--\"; //หมูย่างยังไม่มีนะจ๊ะ\n// {\n//     \"Calories\" : \"Low\",\n//     \"Time\" : 30,\n//     \"RawFood\" : [\"คอหมู\",\"หมูย่าง\"],\n//     \"Tool\" : [\"กระทะ\"],\n//     \"FoodNation\" : \"\",\n//     \"FoodType\" : \"\"}\n\nclass Result extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      if (this.state.seachingType == 1) {\n        axios.get(\"https://us-central1-ideacookcook.cloudfunctions.net/IdeaCookCook/Search/ListRecipesName\", {\n          params: {\n            keyWord: this.state.words\n          }\n        }).catch(error => {\n          console.log(error);\n          this.setState({\n            Loaded: true\n          });\n        }).then(res => {\n          console.log(res.data);\n          this.setState({\n            R: res.data.data,\n            Loaded: true\n          });\n        });\n      } else if (this.state.seachingType == 2) {\n        axios.get(\"https://us-central1-ideacookcook.cloudfunctions.net/IdeaCookCook/Search/ListParameter\", {\n          params: {\n            Calories: this.state.params[0],\n            Time: this.state.params[1],\n            RawFood: this.state.params[2].length > 1 ? this.state.params[2].split(\",\") : [],\n            Tool: this.state.params[3].length > 1 ? this.state.params[3].split(\",\") : [],\n            FoodNation: this.state.params[4],\n            FoodType: this.state.params[5]\n          }\n        }).catch(error => {\n          console.log(error);\n          this.setState({\n            error: true\n          }); // console.log(this.props.match.params.id.substring(1,this.props.match.params.id.length));\n        }).then(res => {\n          if (!this.state.error) {\n            console.log(this.props.match.params.id[0]);\n            console.log(this.state.params);\n            this.setState({\n              R: res.data.data,\n              Loaded: true\n            });\n          }\n        });\n      }\n    };\n\n    this.moveDot = () => {\n      if (this.state.isPage == \"Latest\") return \"dot-left\";else if (this.state.isPage == \"Duration\") return \"dot-right\";else return \"dot-mid\";\n    };\n\n    this.state = {\n      isPage: \"Latest\",\n      Loaded: false,\n      R: [],\n      error: false,\n      words: this.props.match.params.id.substring(1, this.props.match.params.id.length),\n      seachingType: this.props.match.params.id[0],\n      params: this.props.match.params.id.substring(1, this.props.match.params.id.length).split(\"-\")\n    };\n  }\n\n  render() {\n    console.log(this.state.Loaded);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"result\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.isPage == \"Latest\" ? \"isClicked\" : \"isNotClicked\",\n      onClick: () => this.setState({\n        isPage: \"Latest\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }, \"Latest\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.isPage == \"Popularity\" ? \"isClicked\" : \"isNotClicked\",\n      onClick: () => this.setState({\n        isPage: \"Popularity\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }, \"Popularity\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.isPage == \"Duration\" ? \"isClicked\" : \"isNotClicked\",\n      onClick: () => this.setState({\n        isPage: \"Duration\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, \"Duration\"))), this.state.Loaded || this.state.error ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"allResult\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Results, {\n      RSs: this.state.R,\n      SortBy: this.state.isPage,\n      words: this.state.words,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    })) : /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default Result;","map":{"version":3,"sources":["C:/Users/benzs/Documents/GitHub/ideacookcook/ideacookcook/src/page/result.js"],"names":["React","Component","Results","Loading","axios","w","p","Result","constructor","props","componentDidMount","state","seachingType","get","params","keyWord","words","catch","error","console","log","setState","Loaded","then","res","data","R","Calories","Time","RawFood","length","split","Tool","FoodNation","FoodType","match","id","moveDot","isPage","substring","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"../page/styles/result.css\";\r\nimport Results from \"../component/results\";\r\nimport Loading from \"../component/Loading\";\r\nimport axios from \"axios\";\r\n\r\nconst w = \"/result/1นรก\";\r\nconst p = \"/result/2Low-30-คอหมู,หมูย่าง-กระทะ--\"; //หมูย่างยังไม่มีนะจ๊ะ\r\n// {\r\n//     \"Calories\" : \"Low\",\r\n//     \"Time\" : 30,\r\n//     \"RawFood\" : [\"คอหมู\",\"หมูย่าง\"],\r\n//     \"Tool\" : [\"กระทะ\"],\r\n//     \"FoodNation\" : \"\",\r\n//     \"FoodType\" : \"\"}\r\n\r\nclass Result extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isPage: \"Latest\",\r\n      Loaded: false,\r\n      R: [],\r\n      error: false,\r\n      words: this.props.match.params.id.substring(\r\n        1,\r\n        this.props.match.params.id.length\r\n      ),\r\n      seachingType: this.props.match.params.id[0],\r\n      params: this.props.match.params.id\r\n        .substring(1, this.props.match.params.id.length)\r\n        .split(\"-\"),\r\n    };\r\n  }\r\n  componentDidMount = () => {\r\n    if (this.state.seachingType == 1) {\r\n      axios\r\n        .get(\r\n          \"https://us-central1-ideacookcook.cloudfunctions.net/IdeaCookCook/Search/ListRecipesName\",\r\n          {\r\n            params: { keyWord: this.state.words },\r\n          }\r\n        )\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.setState({ Loaded: true });\r\n        })\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.setState({ R: res.data.data, Loaded: true });\r\n        });\r\n    } else if (this.state.seachingType == 2) {\r\n      axios\r\n        .get(\r\n          \"https://us-central1-ideacookcook.cloudfunctions.net/IdeaCookCook/Search/ListParameter\",\r\n          {\r\n            params: {\r\n              Calories: this.state.params[0],\r\n              Time: this.state.params[1],\r\n              RawFood:\r\n                this.state.params[2].length > 1\r\n                  ? this.state.params[2].split(\",\")\r\n                  : [],\r\n              Tool:\r\n                this.state.params[3].length > 1\r\n                  ? this.state.params[3].split(\",\")\r\n                  : [],\r\n              FoodNation: this.state.params[4],\r\n              FoodType: this.state.params[5],\r\n            },\r\n          }\r\n        )\r\n        .catch((error) => {\r\n          console.log(error);\r\n          this.setState({ error: true });\r\n          // console.log(this.props.match.params.id.substring(1,this.props.match.params.id.length));\r\n        })\r\n        .then((res) => {\r\n          if (!this.state.error) {\r\n            console.log(this.props.match.params.id[0]);\r\n            console.log(this.state.params);\r\n            this.setState({ R: res.data.data, Loaded: true });\r\n          }\r\n        });\r\n    }\r\n  };\r\n  moveDot = () => {\r\n    if (this.state.isPage == \"Latest\") return \"dot-left\";\r\n    else if (this.state.isPage == \"Duration\") return \"dot-right\";\r\n    else return \"dot-mid\";\r\n  };\r\n  render() {\r\n    console.log(this.state.Loaded);\r\n    return (\r\n      <div className=\"result\">\r\n        <section>\r\n          <div className=\"pageHeader\">\r\n            <div\r\n              className={\r\n                this.state.isPage == \"Latest\" ? \"isClicked\" : \"isNotClicked\"\r\n              }\r\n              onClick={() => this.setState({ isPage: \"Latest\" })}\r\n            >\r\n              <strong>Latest</strong>\r\n            </div>\r\n            <div\r\n              className={\r\n                this.state.isPage == \"Popularity\" ? \"isClicked\" : \"isNotClicked\"\r\n              }\r\n              onClick={() => this.setState({ isPage: \"Popularity\" })}\r\n            >\r\n              <strong>Popularity</strong>\r\n            </div>\r\n            <div\r\n              className={\r\n                this.state.isPage == \"Duration\" ? \"isClicked\" : \"isNotClicked\"\r\n              }\r\n              onClick={() => this.setState({ isPage: \"Duration\" })}\r\n            >\r\n              <strong>Duration</strong>\r\n            </div>\r\n          </div>\r\n          {this.state.Loaded || this.state.error ? (\r\n            <div className=\"allResult\">\r\n              <Results\r\n                RSs={this.state.R}\r\n                SortBy={this.state.isPage}\r\n                words={this.state.words}\r\n              />\r\n            </div>\r\n          ) : (\r\n            <Loading />\r\n          )}\r\n        </section>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Result;\r\n"]},"metadata":{},"sourceType":"module"}