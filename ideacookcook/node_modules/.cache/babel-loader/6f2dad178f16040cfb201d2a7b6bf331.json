{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\benzs\\\\Documents\\\\GitHub\\\\ideacookcook\\\\ideacookcook\\\\src\\\\page\\\\result.js\";\nimport React, { Component } from \"react\";\nimport \"../page/styles/result.css\";\nimport Results from \"../component/results\";\nimport Loading from \"../component/Loading\";\nimport axios from \"axios\";\nconst w = '/result/1นรก';\nconst p = '/result/2Low-30-คอหมู,หมูย่าง-กระทะ--'; //หมูย่างยังไม่มีนะจ๊ะ\n// {\n//     \"Calories\" : \"Low\",\n//     \"Time\" : 30,\n//     \"RawFood\" : [\"คอหมู\",\"หมูย่าง\"],\n//     \"Tool\" : [\"กระทะ\"],\n//     \"FoodNation\" : \"\",\n//     \"FoodType\" : \"\"}\n\nclass Result extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      if (this.state.seachingType == 1) {\n        axios.get('https://us-central1-ideacookcook.cloudfunctions.net/IdeaCookCook/Search/ListRecipesName', {\n          params: {\n            'keyWord': this.state.words\n          }\n        }).catch(error => {\n          console.log(error);\n          this.setState({\n            Loaded: true\n          });\n        }).then(res => {\n          console.log(res.data);\n          this.setState({\n            R: res.data.data,\n            Loaded: true\n          });\n        });\n      } else if (this.state.seachingType == 2) {\n        axios.get('https://us-central1-ideacookcook.cloudfunctions.net/IdeaCookCook/Search/ListParameter', {\n          params: {\n            \"Calories\": this.state.params[0],\n            \"Time\": this.state.params[1],\n            \"RawFood\": this.state.params[2].length > 1 ? this.state.params[2].split(',') : [],\n            \"Tool\": this.state.params[3].length > 1 ? this.state.params[3].split(',') : [],\n            \"FoodNation\": this.state.params[4],\n            \"FoodType\": this.state.params[5]\n          }\n        }).catch(error => {\n          console.log(error);\n          this.setState({\n            error: true\n          }); // console.log(this.props.match.params.id.substring(1,this.props.match.params.id.length));\n        }).then(res => {\n          if (!this.state.error) {\n            console.log(this.props.match.params.id[0]);\n            console.log(this.state.params);\n            this.setState({\n              R: res.data.data,\n              Loaded: true\n            });\n          }\n        });\n      }\n    };\n\n    this.moveDot = () => {\n      if (this.state.isPage == \"Latest\") return \"dot-left\";else if (this.state.isPage == \"Duration\") return \"dot-right\";else return \"dot-mid\";\n    };\n\n    this.state = {\n      isPage: \"Latest\",\n      Loaded: false,\n      R: [],\n      error: false,\n      words: this.props.match.params.id.substring(1, this.props.match.params.id.length),\n      seachingType: this.props.match.params.id[0],\n      params: this.props.match.params.id.substring(1, this.props.match.params.id.length).split('-')\n    };\n  }\n\n  render() {\n    console.log(this.state.Loaded);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"result\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pageHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.isPage == \"Latest\" ? \"isClicked\" : \"isNotClicked\",\n      onClick: () => this.setState({\n        isPage: \"Latest\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, \"Latest\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.isPage == \"Popularity\" ? \"isClicked\" : \"isNotClicked\",\n      onClick: () => this.setState({\n        isPage: \"Popularity\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 29\n      }\n    }, \"Popularity\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: this.state.isPage == \"Duration\" ? \"isClicked\" : \"isNotClicked\",\n      onClick: () => this.setState({\n        isPage: \"Duration\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }\n    }, \"Duration\"))), this.state.Loaded || this.state.error ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"allResult\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Results, {\n      RSs: this.state.R,\n      SortBy: this.state.isPage,\n      words: this.state.words,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 29\n      }\n    })) : /*#__PURE__*/React.createElement(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 26\n      }\n    })));\n  }\n\n}\n\nexport default Result;","map":{"version":3,"sources":["C:/Users/benzs/Documents/GitHub/ideacookcook/ideacookcook/src/page/result.js"],"names":["React","Component","Results","Loading","axios","w","p","Result","constructor","props","componentDidMount","state","seachingType","get","params","words","catch","error","console","log","setState","Loaded","then","res","data","R","length","split","match","id","moveDot","isPage","substring","render"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\r\nimport \"../page/styles/result.css\";\r\nimport Results from \"../component/results\";\r\nimport Loading from \"../component/Loading\";\r\nimport axios from \"axios\";\r\n\r\nconst w='/result/1นรก'\r\nconst p='/result/2Low-30-คอหมู,หมูย่าง-กระทะ--'//หมูย่างยังไม่มีนะจ๊ะ\r\n// {\r\n//     \"Calories\" : \"Low\",\r\n//     \"Time\" : 30,\r\n//     \"RawFood\" : [\"คอหมู\",\"หมูย่าง\"],\r\n//     \"Tool\" : [\"กระทะ\"],\r\n//     \"FoodNation\" : \"\",\r\n//     \"FoodType\" : \"\"}\r\n\r\nclass Result extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            isPage:\"Latest\",\r\n            Loaded:false,\r\n            R:[],\r\n            error:false,\r\n            words:this.props.match.params.id.substring(1,this.props.match.params.id.length),\r\n            seachingType:this.props.match.params.id[0],\r\n            params:this.props.match.params.id.substring(1,this.props.match.params.id.length).split('-')\r\n        };\r\n    }\r\n    componentDidMount=()=> {\r\n        if(this.state.seachingType==1){\r\n            axios.get('https://us-central1-ideacookcook.cloudfunctions.net/IdeaCookCook/Search/ListRecipesName',\r\n            {\r\n                params:{'keyWord':this.state.words}\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n                this.setState({Loaded:true});\r\n            })\r\n            .then(res => {\r\n                console.log(res.data);\r\n                this.setState({R:res.data.data,Loaded:true});\r\n            });\r\n        }\r\n        else if(this.state.seachingType==2){\r\n            axios.get('https://us-central1-ideacookcook.cloudfunctions.net/IdeaCookCook/Search/ListParameter',\r\n            {\r\n                params:{\r\n                    \"Calories\" : this.state.params[0],\r\n                    \"Time\" : this.state.params[1],\r\n                    \"RawFood\" : this.state.params[2].length>1?this.state.params[2].split(','):[],\r\n                    \"Tool\" : this.state.params[3].length>1?this.state.params[3].split(','):[],\r\n                    \"FoodNation\" : this.state.params[4],\r\n                    \"FoodType\" : this.state.params[5]\r\n                }\r\n            })\r\n            .catch((error)=>{\r\n                console.log(error);\r\n                this.setState({error:true});\r\n                // console.log(this.props.match.params.id.substring(1,this.props.match.params.id.length));\r\n            })\r\n            .then(res => {\r\n                if(!this.state.error){\r\n                console.log(this.props.match.params.id[0]);\r\n                console.log(this.state.params);\r\n                this.setState({R:res.data.data,Loaded:true});\r\n                }\r\n            });\r\n        }\r\n    }\r\n    moveDot=()=>{\r\n        if(this.state.isPage==\"Latest\")return(\"dot-left\");\r\n        else if(this.state.isPage==\"Duration\")return(\"dot-right\");\r\n        else return(\"dot-mid\");\r\n    }\r\n    render() {\r\n        console.log(this.state.Loaded)\r\n        return(\r\n            <div className=\"result\">\r\n                <header></header>\r\n                <section>\r\n                    <div className=\"pageHeader\">\r\n                        <div className={this.state.isPage==\"Latest\"? \"isClicked\":\"isNotClicked\"} onClick={()=>this.setState({isPage: \"Latest\"})}>\r\n                            <strong>Latest</strong>\r\n                        </div>\r\n                        <div className={this.state.isPage==\"Popularity\"? \"isClicked\":\"isNotClicked\"} onClick={()=>this.setState({isPage: \"Popularity\"})}>\r\n                            <strong>Popularity</strong>\r\n                        </div>\r\n                        <div className={this.state.isPage==\"Duration\"? \"isClicked\":\"isNotClicked\"} onClick={()=>this.setState({isPage: \"Duration\"})}>\r\n                            <strong>Duration</strong>\r\n                        </div>     \r\n                    </div>\r\n                    {this.state.Loaded||this.state.error?\r\n                        <div className=\"allResult\">\r\n                            <Results RSs={this.state.R} SortBy={this.state.isPage} words={this.state.words}/>\r\n                        </div>\r\n                        :<Loading/>\r\n                    }\r\n                </section>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Result;"]},"metadata":{},"sourceType":"module"}